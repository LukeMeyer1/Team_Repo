#!/usr/bin/env python3
import argparse
import sys
from pathlib import Path
import Orchestrator

def main() -> None:
    parser = argparse.ArgumentParser(description="CLI for Trustworthy Model Re-use")
    parser.add_argument("command", help="install | test | URL_FILE")
    args = parser.parse_args()

    if args.command == "install":
        sys.exit(Orchestrator.install_dependencies())
    elif args.command == "test":
        sys.exit(Orchestrator.run_tests())
    else:
        file_path = Path(args.command)
        if not file_path.exists():
            print(f"Error: file {file_path} not found.", file=sys.stderr)
            sys.exit(1)
        sys.exit(Orchestrator.process_urls(file_path))


if __name__ == "__main__":
    main()
